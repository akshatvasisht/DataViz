# Architecture Documentation

This document describes the system architecture, components, and data flow for the Big Ten fight song visualization project.

---

## Glossary

* **Manifold:** A topological structure representing connected regions in high-dimensional space where data points share similar characteristics
* **Winning Manifold:** A connected loop of schools that have both high spirit scores and high win rates, representing the "sweet spot" of successful feature combinations
* **Dead Zones:** Feature combinations that historically fail, appearing as isolated regions or disconnected components in the visualization where schools with low performance metrics cluster
* **Mapper Graph:** A network representation generated by TDA that preserves topological features of the high-dimensional data
* **Isolated Component:** Disconnected regions in the graph representing feature combinations associated with lower performance metrics
* **Connected Component:** Subgraphs where nodes exhibit similar feature profiles

## System Overview

The system implements a pipeline architecture consisting of data preprocessing, feature extraction, topological analysis, and visualization generation. The workflow produces a standalone HTML file for static hosting.

## Directory Structure

```
DataViz/
├── src/
│   ├── preprocess.py
│   └── visualize.py
├── data/
│   ├── fight-songs.csv
│   └── processed_fight_songs.csv
├── docs/
│   ├── index.html
│   ├── ARCHITECTURE.md
│   └── STYLE.md
├── requirements.txt
└── deploy.sh
```

## Technology Stack

| Category | Technology | Rationale |
| :--- | :--- | :--- |
| **Language** | Python | Required for KeplerMapper and data processing libraries |
| **TDA Library** | KeplerMapper | Generates mapper graphs from high-dimensional data |
| **Visualization** | HTML/JavaScript | Standalone output for static hosting |
| **Hosting** | GitHub Pages | Static file hosting |

## Data Flow

1. **Input:** FiveThirtyEight fight song dataset (`fight-songs.csv`) containing school names, lyrics, and song metrics
2. **Preprocessing:** `preprocess.py` filters to Big Ten schools, adds historical win percentages, and engineers four features from existing dataset columns:
   - `energy_score`: Normalized tempo (BPM) on 1-10 scale
   - `aggression_score`: Composite of fight frequency and victory language, normalized to 1-10 scale
   - `cliche_score`: Lyrical conventionality based on trope_count
   - `complexity_score`: Normalized song duration on 1-10 scale
3. **Feature Vector Construction:** Each school is represented as a point in 5-dimensional space using `energy_score`, `win_perc`, `aggression_score`, `cliche_score`, and `complexity_score`
4. **Topological Analysis:** `visualize.py` applies TSNE for dimensionality reduction, then KeplerMapper constructs a mapper graph using DBSCAN clustering that preserves topological relationships in the data
5. **Output:** Interactive HTML file (`docs/index.html`) containing a network visualization with nodes colored by win percentage and hover interactions displaying school statistics

## Design Constraints

* **Static Output:** The visualization is a standalone HTML file rather than a dynamic web application to simplify hosting and ensure reproducibility
* **Feature Engineering:** Features are derived from existing dataset columns using mathematical transformations (normalization, weighted sums) rather than external analysis tools
